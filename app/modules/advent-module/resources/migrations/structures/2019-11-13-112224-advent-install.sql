CREATE TABLE advent_result (id INT AUTO_INCREMENT NOT NULL, package_id INT DEFAULT NULL, question_id INT DEFAULT NULL, answer_id INT DEFAULT NULL, created_by_id INT DEFAULT NULL, updated_by_id INT DEFAULT NULL, deleted_by_id INT DEFAULT NULL, inserted DATETIME DEFAULT NULL, updated DATETIME DEFAULT NULL, INDEX IDX_1D927918F44CABFF (package_id), INDEX IDX_1D9279181E27F6BF (question_id), INDEX IDX_1D927918AA334807 (answer_id), INDEX IDX_1D927918B03A8386 (created_by_id), INDEX IDX_1D927918896DBBDE (updated_by_id), INDEX IDX_1D927918C76F1F52 (deleted_by_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE advent_answer_translation (id INT AUTO_INCREMENT NOT NULL, translatable_id INT DEFAULT NULL, text VARCHAR(255) NOT NULL, valid TINYINT(1) NOT NULL, locale VARCHAR(255) NOT NULL, INDEX IDX_2AE4F97B2C2AC5D3 (translatable_id), UNIQUE INDEX advent_answer_translation_unique_translation (translatable_id, locale), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE advent_answers (id INT AUTO_INCREMENT NOT NULL, question_id INT DEFAULT NULL, inserted DATETIME DEFAULT NULL, updated DATETIME DEFAULT NULL, INDEX IDX_C70CE7361E27F6BF (question_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE advent_question_translation (id INT AUTO_INCREMENT NOT NULL, translatable_id INT DEFAULT NULL, text VARCHAR(255) NOT NULL, locale VARCHAR(255) NOT NULL, INDEX IDX_F5B209B62C2AC5D3 (translatable_id), UNIQUE INDEX advent_question_translation_unique_translation (translatable_id, locale), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE advent_question (id INT AUTO_INCREMENT NOT NULL, package_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, inserted DATETIME DEFAULT NULL, updated DATETIME DEFAULT NULL, INDEX IDX_90B9A5C3F44CABFF (package_id), INDEX name_idx (name), UNIQUE INDEX package_name_idx (package_id, name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE advent_result ADD CONSTRAINT FK_1D927918F44CABFF FOREIGN KEY (package_id) REFERENCES package (id) ON DELETE CASCADE;
ALTER TABLE advent_result ADD CONSTRAINT FK_1D9279181E27F6BF FOREIGN KEY (question_id) REFERENCES advent_question (id) ON DELETE CASCADE;
ALTER TABLE advent_result ADD CONSTRAINT FK_1D927918AA334807 FOREIGN KEY (answer_id) REFERENCES advent_answers (id) ON DELETE CASCADE;
ALTER TABLE advent_result ADD CONSTRAINT FK_1D927918B03A8386 FOREIGN KEY (created_by_id) REFERENCES users (id);
ALTER TABLE advent_result ADD CONSTRAINT FK_1D927918896DBBDE FOREIGN KEY (updated_by_id) REFERENCES users (id);
ALTER TABLE advent_result ADD CONSTRAINT FK_1D927918C76F1F52 FOREIGN KEY (deleted_by_id) REFERENCES users (id);
ALTER TABLE advent_answer_translation ADD CONSTRAINT FK_2AE4F97B2C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES advent_answers (id) ON DELETE CASCADE;
ALTER TABLE advent_answers ADD CONSTRAINT FK_C70CE7361E27F6BF FOREIGN KEY (question_id) REFERENCES advent_question (id);
ALTER TABLE advent_question_translation ADD CONSTRAINT FK_F5B209B62C2AC5D3 FOREIGN KEY (translatable_id) REFERENCES advent_question (id) ON DELETE CASCADE;
ALTER TABLE advent_question ADD CONSTRAINT FK_90B9A5C3F44CABFF FOREIGN KEY (package_id) REFERENCES package (id) ON DELETE CASCADE;
